<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transcript Manager Client</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Transcript Manager Client</h1>
        <p class="subtitle">Backend default: http://localhost:4001</p>

        <div class="config-section">
            <h3>Configuration</h3>
            <div class="form-group">
                <label for="baseUrl">API Base URL</label>
                <input type="text" id="baseUrl" value="http://localhost:4001" placeholder="http://localhost:4001">
            </div>
            <button onclick="updateBaseUrl()">Save</button>
            <p style="opacity: 0.7; margin-top: 10px; font-size: 0.9rem;">Update this if your server is on a different port/host.</p>
        </div>

        <div class="grid">
            <div class="card">
                <h3>Transcripts</h3>
                <button onclick="getAllTranscripts()">GET /transcripts</button>
                <div id="transcripts-response" class="response-area"></div>
                
                <div class="form-group" style="margin-top: 20px;">
                    <label for="studentName">Student Name</label>
                    <input type="text" id="studentName" placeholder="Enter student name">
                </div>
                <button onclick="createStudent()">POST /transcripts</button>
                
                <div class="form-group" style="margin-top: 20px;">
                    <label for="studentId">Student ID</label>
                    <input type="number" id="studentId" placeholder="Enter student ID">
                </div>
                <button onclick="getTranscriptById()">GET /transcripts/:id</button>
                <button onclick="deleteStudent()">DELETE /transcripts/:id</button>
            </div>

            <div class="card">
                <h3>Student IDs</h3>
                <div class="form-group">
                    <label for="searchName">Student Name</label>
                    <input type="text" id="searchName" placeholder="Enter name to search">
                </div>
                <button onclick="getStudentIds()">GET /studentids</button>
                <div id="studentids-response" class="response-area"></div>
            </div>

            <div class="card">
                <h3>Grades</h3>
                <div class="form-group">
                    <label for="gradeStudentId">Student ID</label>
                    <input type="number" id="gradeStudentId" placeholder="Enter student ID">
                </div>
                <div class="form-group">
                    <label for="courseName">Course</label>
                    <input type="text" id="courseName" placeholder="Enter course name">
                </div>
                <div class="form-group">
                    <label for="gradeValue">Grade</label>
                    <input type="number" id="gradeValue" placeholder="Enter grade">
                </div>
                <button onclick="addGrade()">POST /transcripts/:studentID/:course</button>
                <button onclick="getGrade()">GET /transcripts/:studentID/:course</button>
                <div id="grades-response" class="response-area"></div>
            </div>

            <div class="card api-explorer">
                <h3>API Explorer (Invoke ANY endpoint)</h3>
                <div class="api-form">
                    <div class="form-group">
                        <label for="method">Method</label>
                        <select id="method">
                            <option value="GET">GET</option>
                            <option value="POST">POST</option>
                            <option value="DELETE">DELETE</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="endpoint">Endpoint</label>
                        <input type="text" id="endpoint" placeholder="/transcripts/1/CS101">
                    </div>
                    <div class="form-group">
                        <label for="requestBody">Optional JSON body (e.g. {"grade":95})</label>
                        <textarea id="requestBody" placeholder='{"grade":95}'></textarea>
                    </div>
                    <div class="form-group">
                        <button onclick="invokeApi()">Send</button>
                    </div>
                </div>
                <div id="api-response" class="response-area"></div>
            </div>
        </div>
    </div>

    <script type="module" src="index.js"></script>
</body>
</html>